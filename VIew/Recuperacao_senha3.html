<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recuperação de Senha</title>
  <link rel="stylesheet" href="../VIew/Media/recuperacao_senha3.css" />
  <script src="../VIew/Media/recuperacao_senha3.css" crossorigin="anonymous"></script>
</head>
<body>

<header>
  <div class="header-content">
    <div class="logo">
      <img src="../VIew/Media/Logo_Branca.png" alt="Logo da empresa" />
    </div>
    <nav>
      <ul class="menu">
        <li><a href="#">Smartphones</a></li>
        <li><a href="#">Tablets</a></li>
        <li><a href="#">Fones</a></li>
        <li><a href="#">Relógios</a></li>
        <li><a href="#">Notebooks</a></li>
      </ul>
    </nav>
    <div class="icons">
      <i class="fas fa-search"></i>
      <i class="fas fa-user"></i>
      <i class="fas fa-shopping-bag"></i>
      <i class="fas fa-box"></i>
    </div>
  </div>
</header>

<main class="background">
  <div class="conteudo">
    <h1 class="titulo">Recuperação de senha</h1>
    <div class="verification-container">
      <form onsubmit="return validarSenhas()">
        <div class="input-container" id="senha-wrapper">
          <label class="input-title" for="senha">Insira sua nova senha:</label>
          <div class="input-wrapper">
            <i class="fas fa-lock"></i>
            <input class="input-field" type="password" id="senha" placeholder="Digite sua senha" />
            <i class="fas fa-eye toggle-password" onclick="togglePassword('senha', this)"></i>
          </div>
          <div id="erro-senha" class="erro-mensagem">Este campo é obrigatório</div>
        </div>

        <div class="input-container" id="confirmar-wrapper">
          <label class="input-title" for="confirmar">Confirme sua senha:</label>
          <div class="input-wrapper">
            <i class="fas fa-lock"></i>
            <input class="input-field" type="password" id="confirmar" placeholder="Digite novamente sua senha" />
            <i class="fas fa-eye toggle-password" onclick="togglePassword('confirmar', this)"></i>
          </div>
          <div id="erro-confirmar" class="erro-mensagem">As senhas não coincidem</div>
        </div>

        <button type="submit">CONFIRMAR</button>
      </form>
    </div>
  </div>
</main>

<script>
function togglePassword(id, el) {
  const input = document.getElementById(id);
  if (input.type === "password") {
    input.type = "text";
    el.classList.remove("fa-eye");
    el.classList.add("fa-eye-slash");
  } else {
    input.type = "password";
    el.classList.remove("fa-eye-slash");
    el.classList.add("fa-eye");
  }
}

function validarSenhas() {
  const senha = document.getElementById("senha");
  const confirmar = document.getElementById("confirmar");
  const senhaWrapper = document.getElementById("senha-wrapper");
  const confirmarWrapper = document.getElementById("confirmar-wrapper");
  let valido = true;

  senhaWrapper.classList.remove("erro");
  confirmarWrapper.classList.remove("erro");

  if (senha.value.trim() === "") {
    senhaWrapper.classList.add("erro");
    valido = false;
  }

  if (confirmar.value.trim() === "" || confirmar.value !== senha.value) {
    confirmarWrapper.classList.add("erro");
    valido = false;
  }

  return valido;
}
</script>

</body>
</html>
